ğŸŒµï¼šè¡¨ç¤ºã€Œèƒ½çŸ¥é“æœ€å¥½ã€ï¼Œå¦‚æœä¸çŸ¥é“ä¹Ÿä¸ä¼šå¯¼è‡´é”™è¯¯ã€‚
ğŸš©ï¼šè¡¨ç¤ºã€Œæœ€èµ·ç è¦çŸ¥é“ã€ï¼Œå¦‚æœä¸çŸ¥é“å¾ˆå¯èƒ½å†™å‡ºä¸å¥½æ‰¾çš„`bug`ã€æ€§èƒ½é—®é¢˜ã€‚
ğŸˆ²ï¼šè¡¨ç¤ºã€Œè¿™ä¸ªå°±åˆ«åšåˆ°äº†ã€ï¼Œå¦‚æœä¸çŸ¥é“å°±éå¸¸å¯èƒ½å‡ºé—®é¢˜ã€‚

# locké”

## ğŸš©é›¶å€¼çš„é”ç»“æ„éƒ½æ˜¯å¼€ç®±å³ç”¨çš„
**zero-valus of lock is valid**
<table>
<thead><tr><th>Bad</th><th>Good</th></tr></thead>
<tbody>
<tr><td>

```go
mu := new(sync.Mutex)
mu.Lock()
```

</td><td>

```go
var mu sync.Mutex
mu.Lock()
```
</td></tr>
</tbody></table>

è™½ç„¶`Lock`ã€`Unlock`æ˜¯æ¥å—è€…ä¸º`pointer`çš„æ–¹æ³•ï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥ç›´æ¥ç”¨`var mu = sync.Mutex`
```go
func (m *Mutex) Lock()
func (m *Mutex) Unlock() 
```
ç†ç”±è§`method`ç« èŠ‚çš„`value receiver & pointer receiver`

## ğŸš©å½“å¿ƒMutexçš„é”™è¯¯å¤åˆ¶
todo
[Beware of copying mutexes in Go](https://eli.thegreenplace.net/2018/beware-of-copying-mutexes-in-go/)

# goroutine

## å…³äºgoroutineåº”è¯¥çŸ¥é“çš„çŸ¥è¯†
* åªè¦`main goroutine`é€€å‡ºï¼Œä¸ç®¡å…¶ä½™`children goroutine`æ˜¯å¦è¿è¡Œå®Œæ¯•ï¼Œç›´æ¥é€€å‡º
* å¦‚æœæŸä¸ª`goroutine`åœ¨å‡½æ•°/æ–¹æ³•çš„è°ƒç”¨æ—¶å‡ºç°`panic`ï¼Œä¸€ä¸ªè¢«ç§°ä¹‹ä¸º`panicking`çš„è¿‡ç¨‹è¢«æ¿€æ´»ï¼Œä¸€ç›´å‘ä¸Šï¼Œè¿è¡Œä¸Šå±‚æ¯ä¸€å±‚çš„`defer`ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨`recover`æ•è·è¯¥`panic`ï¼Œé‚£ä¹ˆæ•´ä¸ªç¨‹åºä¼šå¼‚å¸¸é€€å‡ºã€‚


## ğŸš©Before you launch a goroutine, know when it will stop


# channel
## ğŸŒµTo pass a signal prefer chan struct{} instead of chan bool.
```go
type Service struct {
	deleteCh chan bool // what does this bool mean? 
}

type Service struct {
	deleteCh chan struct{} // ok, if event than delete something.
}
```
## å…³äºç‰¹æ®ŠçŠ¶æ€çš„channelï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹äº‹å®


|       | closed channel | nil channel |
|-------|----------------|-------------|
| ch <- | panic          | é˜»å¡          |
| <- ch | channel ä¸­å…ƒç´ çš„é›¶å€¼ | é˜»å¡          |


## ğŸš©channelçš„å¤§å°è¦ä¹ˆæ˜¯1ï¼Œè¦ä¹ˆæ˜¯0
TODO


# å‚è€ƒ
* `ç™½æ˜ã€ŠGoè¯­è¨€ç²¾è¿›ä¹‹è·¯ã€‹(ğŸ“š)`
* `[100 go mistakes](ğŸ“š)`
* [Uber Go Style Guide](https://github.com/uber-go/guide/blob/master/style.md)
* [Effective Go](https://go.dev/doc/effective_go)
* [Beware of copying mutexes in Go](https://eli.thegreenplace.net/2018/beware-of-copying-mutexes-in-go/)